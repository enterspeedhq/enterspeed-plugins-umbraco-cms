<div ng-controller="Enterspeed.Deploy.SSG.Setting.Dashboard as vm" class="configuration-dashboard">

	<umb-load-indicator ng-if="vm.loadingConfiguration || vm.buttonState === 'busy'">
	</umb-load-indicator>

    <div class="configuration-dashboard-content form-horizontal" ng-if="!vm.loadingConfiguration">
        <div class="umb-property">
            <div class="control-group umb-control-group">
                <div class="umb-el-wrap">
                    <div class="control-header">
                        <label class="control-label">SSG services</label>
                    </div>
                    <div class="controls">
                        <div class="umb-nested-content--">
                            <div class="umb-nested-content__items">
                                <div class="umb-nested-content__item umb-nested-content__item--active" ng-repeat="service in vm.configuration.configuredServices">
                                    <div class="umb-nested-content__header-bar">
                                        <div class="umb-nested-content__heading">
                                            <i class="icon icon-umb-deploy"></i>
                                            <div class="umb-nested-content__item-name --has-icon">
                                                {{service.name}}
                                            </div>
                                        </div>
                                        <div class="umb-nested-content__icons">
                                            <button class="umb-nested-content__icon umb-nested-content__icon--delete" ng-click="vm.trash(service)">
                                                <i class="icon icon-trash"></i>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="umb-nested-content__content">
                                        <div class="umb-pane">
                                            <div ng-include="service.configurationView" ng-init="model = service"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="umb-property-editor">
                                <div>
                                    <div>
                                        <div class="umb-property-editor">
                                            <button type="button" class="umb-node-preview-add" ng-click="vm.addService()">
                                                <span>Add SSG service</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <umb-button action="vm.saveConfiguration()"
                    type="button"
                    button-style="success"
                    state="vm.configState"
                    label="Save configuration">
		</umb-button>
	</div>
</div>